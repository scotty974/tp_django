{% extends "base.html" %} {% load static %} {% block content %}
<div class="max-w-5xl mx-auto py-10 px-6">
  <h1 class="text-4xl font-bold text-center mb-10 text-blue-600">
    Dashboard - Création d’Univers de Jeu
  </h1>

  <!-- Formulaire -->
  <div class="bg-white shadow-lg rounded-lg p-6 mb-10">
    <h2 class="text-2xl font-semibold mb-4">Ajouter un nouveau jeu</h2>
    <form method="post" class="space-y-4">
      {% csrf_token %} {{ form.non_field_errors }} {% for field in form %}
      <div>
        <label>{{ field.label }}</label>
        {{ field }} {% if field.errors %}
        <p class="text-sm text-red-500">{{ field.errors|join:", " }}</p>
        {% endif %}
      </div>
      {% endfor %}
      <button
        id="create-game-button"
        class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded"
      >
        Créer le jeu
      </button>
    </form>
  </div>

  {% for item in games_with_personnages %}
  <div class="game-block">
    <h2>{{ item.game.title }}</h2>
    <p>{{ item.game.story }}</p>
    <p><strong>Univers :</strong> {{ item.game.univers }}</p>
    <img src="{{ item.game.illustration }}" alt="Illustration">
    {% if item.personnages %}
      <ul>
        {% for perso in item.personnages %}
          <li>
            <strong>{{ perso.name }}</strong> ({{ perso.race }}) : {{ perso.description }}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>Aucun personnage pour ce jeu.</p>
    {% endif %}
  </div>
{% endfor %}

</div>
{% endblock %}


<script>
document.addEventListener("DOMContentLoaded", function () {
  const createGameButton = document.getElementById("create-game-button");
  createGameButton.addEventListener("click", function (event) {
    console.log("Button clicked");
  });
})
</script>